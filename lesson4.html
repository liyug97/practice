<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>归并排序</title>
  </head>
  <body>
    <script>
      /*
    function merge_sort(arr){
  if(arr.length < 2){
    return arr;
  }
  var middle = parseInt(arr.length/2);
  var left = arr.slice(0,middle);
  var right = arr.slice(middle);
  
  return merge(merge_sort(left),merge_sort(right));
}

function merge(left,right){
  var result = [];
  var i = 0, j = 0;
  while(i < left.length && j < right.length){
    if(left[i] > right[j]){
      result.push(right[j++]);
    }
    else{
      result.push(left[i++]);
    }
  }
  while(i < left.length){
     result.push(left[i++]);
  }
  while(j < right.length){
    result.push(right[j++]);
  }
  
  return result;
}

var arr = [1, 2, 3, 5, 6, 7, 8, 9];
var result = merge_sort(arr);
 console.log(result);*/
      function merge(leftArr, rightArr) {
        var result = [];
        while (leftArr.length > 0 && rightArr.length > 0) {
          if (leftArr[0] < rightArr[0]) result.push(leftArr.shift());
          //把最小的最先取出，放到结果集中
          else result.push(rightArr.shift());
        }
        return result.concat(leftArr).concat(rightArr); //剩下的就是合并，这样就排好序了
      }

      function mergeSort(array) {
        if (array.length == 1) return array;
        var middle = Math.floor(array.length / 2); //求出中点
        var left = array.slice(0, middle); //分割数组
        var right = array.slice(middle);
        return merge(mergeSort(left), mergeSort(right)); //递归合并与排序
      }

      var arr = mergeSort([32, 12, 56, 78, 76, 45, 36]);
      console.log(arr); // [12, 32, 36, 45, 56, 76, 78]
    </script>
  </body>
</html>
